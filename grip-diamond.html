
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>The GRIP Diamond | Caugia Consulting</title>
  <meta name="description" content="Explore your GTM health across the four GRIP dimensions in a clean, minimal Caugia-style diagnostic interface." />

  <link rel="icon" href="assets/C-logo.png" type="image/png" sizes="512x512">
  <link rel="apple-touch-icon" href="assets/C-logo.png">
  <meta name="msapplication-TileImage" content="assets/C-logo.png">

  <link rel="stylesheet" href="assets/caugia.css?v=7.4" />

  <!-- ðŸ”’ SECURITY: Protect this entire page -->
  <script src="/auth.js"></script>

  <style>
    /* ===========================================================
       GRIP DIAMOND â€” D3 UNIFIED MINIMAL (Caugia style)
       Calm Â· Clean Â· Executive
       =========================================================== */

    body.grip-page {
      background: #ffffff;
    }

    .grip-page main {
      padding: 96px 0 80px;
    }

    /* ---------- HERO ---------- */

    .grip-hero {
      text-align: center;
      margin-bottom: 56px;
    }

    .grip-hero-eyebrow {
      font-size: 0.8rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--blue);
      margin-bottom: 8px;
    }

    .grip-hero h1 {
      color: var(--ink);
      font-size: 2.4rem;
      letter-spacing: 0.02em;
      margin-bottom: 8px;
    }

    .grip-hero p {
      max-width: 640px;
      margin: 0 auto;
      color: rgba(11, 19, 43, 0.78);
      font-size: 1.02rem;
      line-height: 1.7;
    }

    /* ---------- MAIN GRID ---------- */

    .grip-main-grid {
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.5fr);
      gap: 40px;
      align-items: start;
    }

    @media (max-width: 1024px) {
      .grip-main-grid {
        grid-template-columns: 1fr;
      }
    }

    /* ---------- CARDS ---------- */

    .grip-card {
      background: #ffffff;
      border-radius: 18px;
      border: 1px solid rgba(15, 23, 42, 0.06);
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.05);
      padding: 28px 28px 26px;
    }

    @media (max-width: 640px) {
      .grip-card {
        padding: 22px 18px 20px;
        border-radius: 16px;
      }
    }

    /* ---------- DIAMOND (MINIMAL) ---------- */

    .grip-diamond-card-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 18px;
    }

    .grip-diamond-title {
      font-size: 1rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: rgba(15, 23, 42, 0.7);
    }

    .grip-diamond-subtitle {
      font-size: 0.9rem;
      color: rgba(15, 23, 42, 0.6);
    }

    .grip-diamond-canvas {
      position: relative;
      height: 420px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    @media (max-width: 640px) {
      .grip-diamond-canvas {
        height: 360px;
      }
    }

    .grip-diamond-svg {
      width: 100%;
      max-width: 420px;
      height: auto;
    }

    /* Grid rings (very subtle) */
    .grip-diamond-svg .ring {
      stroke: rgba(15, 23, 42, 0.07);
      stroke-width: 1;
      fill: none;
    }

    .grip-diamond-svg .axis-line {
      stroke: rgba(15, 23, 42, 0.08);
      stroke-width: 1;
      stroke-linecap: round;
    }

    .grip-diamond-svg #grip-diamond-polygon {
      fill: rgba(0, 70, 165, 0.08);
      stroke: #0046A5;
      stroke-width: 2.1;
      stroke-linejoin: round;
      transition: all 0.35s cubic-bezier(0.23, 0.82, 0.38, 0.98);
    }

    .grip-diamond-svg .center-dot {
      fill: #ffffff;
      stroke: rgba(15, 23, 42, 0.2);
      stroke-width: 1;
    }

    /* Labels around diamond */

    .grip-diamond-label {
      position: absolute;
      font-size: 0.82rem;
      background: #ffffff;
      border-radius: 999px;
      border: 1px solid rgba(15, 23, 42, 0.08);
      padding: 4px 10px;
      color: rgba(15, 23, 42, 0.9);
      white-space: nowrap;
    }

    .grip-diamond-label span.dot {
      display: inline-block;
      width: 7px;
      height: 7px;
      border-radius: 999px;
      margin-right: 6px;
    }

    .grip-diamond-label.guidance span.dot {
      background: #0046A5;
    }

    .grip-diamond-label.resources span.dot {
      background: #0B132B;
    }

    .grip-diamond-label.implementation span.dot {
      background: #64748B;
    }

    .grip-diamond-label.performance span.dot {
      background: #F36C21;
    }

    .grip-diamond-label.guidance {
      top: 30px;
      left: 50%;
      transform: translateX(-50%);
    }

    .grip-diamond-label.performance {
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
    }

    .grip-diamond-label.resources {
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
    }

    .grip-diamond-label.implementation {
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
    }

    @media (max-width: 640px) {
      .grip-diamond-label {
        font-size: 0.78rem;
        padding: 4px 8px;
      }
      .grip-diamond-label.guidance {
        top: 18px;
      }
      .grip-diamond-label.performance {
        bottom: 18px;
      }
      .grip-diamond-label.resources {
        left: 10px;
      }
      .grip-diamond-label.implementation {
        right: 10px;
      }
    }

    /* ---------- SCORECARD (MINIMAL) ---------- */

    .grip-scorecard-title {
      font-size: 0.9rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: rgba(15, 23, 42, 0.7);
      margin-bottom: 10px;
    }

    .grip-scorecard-main {
      display: flex;
      align-items: baseline;
      gap: 10px;
      margin-bottom: 12px;
    }

    .grip-scorecard-main-value {
      font-size: 2.3rem;
      font-weight: 700;
      color: var(--ink);
    }

    .grip-scorecard-main-max {
      font-size: 0.95rem;
      color: rgba(15, 23, 42, 0.6);
    }

    .grip-scorecard-band {
      display: inline-flex;
      align-items: center;
      padding: 4px 12px;
      border-radius: 999px;
      font-size: 0.78rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      margin-bottom: 18px;
    }

    .band-critical {
      border: 1px solid rgba(185, 28, 28, 0.36);
      color: #991B1B;
      background: rgba(248, 113, 113, 0.09);
    }

    .band-developing {
      border: 1px solid rgba(180, 83, 9, 0.32);
      color: #92400E;
      background: rgba(253, 186, 116, 0.1);
    }

    .band-solid {
      border: 1px solid rgba(22, 101, 52, 0.3);
      color: #166534;
      background: rgba(74, 222, 128, 0.08);
    }

    .band-strong {
      border: 1px solid rgba(30, 64, 175, 0.35);
      color: #1D4ED8;
      background: rgba(129, 140, 248, 0.08);
    }

    .grip-scorecard-copy {
      font-size: 0.95rem;
      color: rgba(15, 23, 42, 0.8);
      line-height: 1.65;
      margin-bottom: 20px;
    }

    .grip-scorecard-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 18px;
      margin-bottom: 20px;
      font-size: 0.9rem;
    }

    @media (max-width: 480px) {
      .grip-scorecard-grid {
        grid-template-columns: 1fr;
      }
    }

    .grip-scorecard-pillar-label {
      font-weight: 600;
      color: rgba(15, 23, 42, 0.9);
      margin-bottom: 4px;
    }

    .grip-scorecard-meter {
      height: 5px;
      border-radius: 999px;
      background: #E5E7EB;
      overflow: hidden;
    }

    .grip-scorecard-meter span {
      display: block;
      height: 100%;
      border-radius: 999px;
      transform-origin: left center;
      transform: scaleX(0);
      transition: transform 0.3s ease-out;
    }

    .meter-guidance span {
      background: #0046A5;
    }

    .meter-resources span {
      background: #0B132B;
    }

    .meter-implementation span {
      background: #64748B;
    }

    .meter-performance span {
      background: #F36C21;
    }

    .grip-scorecard-meter-row-footer {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-top: 4px;
    }

    .grip-scorecard-meter-score {
      font-size: 0.86rem;
      color: rgba(15, 23, 42, 0.7);
    }

    .grip-scorecard-meter-tag {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      padding: 2px 9px;
      border-radius: 999px;
      border: 1px solid transparent;
    }

    .tag-critical {
      border-color: rgba(185, 28, 28, 0.4);
      color: #991B1B;
    }

    .tag-developing {
      border-color: rgba(180, 83, 9, 0.4);
      color: #92400E;
    }

    .tag-solid {
      border-color: rgba(22, 101, 52, 0.4);
      color: #166534;
    }

    .tag-strong {
      border-color: rgba(30, 64, 175, 0.4);
      color: #1D4ED8;
    }

    /* Archetype */

    .grip-archetype-block {
      border-top: 1px solid rgba(15, 23, 42, 0.08);
      padding-top: 16px;
      margin-top: 8px;
    }

    .grip-archetype-label {
      font-size: 0.78rem;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: rgba(15, 23, 42, 0.6);
      margin-bottom: 4px;
    }

    .grip-archetype-name {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--ink);
      margin-bottom: 4px;
    }

    .grip-archetype-copy {
      font-size: 0.92rem;
      color: rgba(15, 23, 42, 0.78);
      line-height: 1.6;
      max-width: 90%;
    }

    /* ---------- SLIDERS STRIP ---------- */

    .grip-sliders-section {
      margin-top: 60px;
    }

    .grip-sliders-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 18px;
    }

    @media (max-width: 960px) {
      .grip-sliders-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 640px) {
      .grip-sliders-grid {
        grid-template-columns: 1fr;
      }
    }

    .grip-slider-card {
      background: #ffffff;
      border-radius: 14px;
      border: 1px solid rgba(15, 23, 42, 0.06);
      padding: 14px 14px 16px;
      box-shadow: 0 8px 24px rgba(15, 23, 42, 0.05);
      font-size: 0.9rem;
    }

    .grip-slider-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 8px;
    }

    .grip-slider-header span:first-child {
      color: rgba(15, 23, 42, 0.85);
      font-weight: 500;
    }

    .grip-slider-value {
      font-size: 0.85rem;
      color: rgba(15, 23, 42, 0.65);
    }

    .grip-slider-sub {
      font-size: 0.78rem;
      color: rgba(15, 23, 42, 0.6);
      margin-bottom: 8px;
    }

    input[type="range"] {
      width: 100%;
      appearance: none;
      height: 4px;
      border-radius: 999px;
      background: #E5E7EB;
      outline: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 14px;
      height: 14px;
      border-radius: 999px;
      background: #0046A5;
      border: 2px solid #ffffff;
      box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.18);
      cursor: pointer;
    }

    input[type="range"]::-moz-range-thumb {
      width: 14px;
      height: 14px;
      border-radius: 999px;
      background: #0046A5;
      border: 2px solid #ffffff;
      box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.18);
      cursor: pointer;
    }

    /* ---------- CTA BANNER ---------- */

    .grip-cta-banner {
      margin-top: 72px;
      padding: 36px 32px;
      border-radius: 20px;
      border: 1px solid rgba(15, 23, 42, 0.06);
      box-shadow: 0 12px 32px rgba(15, 23, 42, 0.06);
      text-align: center;
      background: #ffffff;
    }

    @media (max-width: 640px) {
      .grip-cta-banner {
        padding: 26px 18px;
      }
    }

    .grip-cta-banner h2 {
      font-size: 1.6rem;
      color: var(--ink);
      margin-bottom: 10px;
    }

    .grip-cta-banner p {
      max-width: 620px;
      margin: 0 auto 20px;
      color: rgba(15, 23, 42, 0.78);
      line-height: 1.65;
      font-size: 0.98rem;
    }

    .grip-cta-banner .cta {
      display: inline-block;
      padding: 11px 26px;
      border-radius: 999px;
      text-decoration: none;
      font-weight: 600;
      font-size: 0.96rem;
    }

    .grip-cta-secondary {
      margin-top: 12px;
      font-size: 0.9rem;
    }

    .grip-cta-secondary a {
      color: var(--blue);
      text-decoration: none;
    }

    .grip-cta-secondary a:hover {
      text-decoration: underline;
    }

  </style>
</head>
<body class="grip-page">

<header>
  <div class="inner">
    <a href="index.html" class="brand">
      <img src="assets/C-logo.png" alt="Caugia Consulting logo">
      <span>Caugia Consulting</span>
    </a>

    <nav class="nav-desktop">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="services.html">Services</a>
      <a href="grip-diamond.html" class="active">GRIP Diamond</a>
      <a href="gtm-assessment.html">GTM Score</a>
      <a href="resources.html">Resources</a>
      <a class="cta" href="mailto:hello@caugia.com">Contact</a>
    </nav>

    <button class="menu-toggle" aria-label="Open navigation">
      <span></span>
    </button>

    <nav class="nav-mobile">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="services.html">Services</a>
      <a href="grip-diamond.html" class="active">GRIP Diamond</a>
      <a href="gtm-assessment.html">GTM Score</a>
      <a href="resources.html">Resources</a>
      <a href="mailto:hello@caugia.com">Contact</a>
    </nav>
  </div>
</header>

<main>
  <div class="wrap">

    <!-- HERO -->
    <section class="grip-hero">
      <div class="grip-hero-eyebrow">The GRIP Framework</div>
      <h1>The GTM Health Diamond.</h1>
      <p>
        Adjust the four GRIP dimensions and see how your GTM health shifts. 
        This minimal view shows how Guidance, Resources, Implementation and Performance work together as one system.
      </p>
    </section>

    <!-- MAIN GRID: DIAMOND + SCORECARD -->
    <section>
      <div class="grip-main-grid">

        <!-- LEFT: MINIMAL DIAMOND -->
        <div class="grip-card">
          <div class="grip-diamond-card-header">
            <div class="grip-diamond-title">GRIP Diamond</div>
            <div class="grip-diamond-subtitle">Guidance Â· Resources Â· Implementation Â· Performance</div>
          </div>

          <div class="grip-diamond-canvas">
            <svg class="grip-diamond-svg" viewBox="0 0 260 260" aria-hidden="true">
              <defs>
                <clipPath id="diamond-clip">
                  <polygon points="130,30 230,130 130,230 30,130"></polygon>
                </clipPath>
              </defs>

              <!-- Grid rings -->
              <g class="diamond-grid" clip-path="url(#diamond-clip)">
                <polygon class="ring" points="130,40 220,130 130,220 40,130"></polygon>
                <polygon class="ring" points="130,60 200,130 130,200 60,130"></polygon>
                <polygon class="ring" points="130,80 180,130 130,180 80,130"></polygon>
              </g>

              <!-- Axis lines -->
              <line class="axis-line" x1="130" y1="130" x2="130" y2="30"></line>
              <line class="axis-line" x1="130" y1="130" x2="230" y2="130"></line>
              <line class="axis-line" x1="130" y1="130" x2="130" y2="230"></line>
              <line class="axis-line" x1="130" y1="130" x2="30" y2="130"></line>

              <!-- Dynamic polygon -->
              <polygon id="grip-diamond-polygon" points="130,80 200,130 130,180 60,130"></polygon>

              <!-- Center point -->
              <circle class="center-dot" cx="130" cy="130" r="4"></circle>
            </svg>

            <!-- Labels -->
            <div class="grip-diamond-label guidance">
              <span class="dot"></span>Guidance
            </div>
            <div class="grip-diamond-label resources">
              <span class="dot"></span>Resources
            </div>
            <div class="grip-diamond-label implementation">
              <span class="dot"></span>Implementation
            </div>
            <div class="grip-diamond-label performance">
              <span class="dot"></span>Performance
            </div>
          </div>
        </div>

        <!-- RIGHT: SCORECARD -->
        <div class="grip-card">

          <div class="grip-scorecard-title">Your GRIP health</div>

          <div class="grip-scorecard-main">
            <div class="grip-scorecard-main-value" id="overall-score">55</div>
            <div class="grip-scorecard-main-max">/ 100</div>
          </div>

          <div id="overall-band" class="grip-scorecard-band band-developing">Developing</div>

          <p class="grip-scorecard-copy" id="overall-copy">
            Your GTM system shows mixed strength across the four dimensions. The diamond highlights where
            you rely on heroic efforts and where the system can be made more predictable.
          </p>

          <div class="grip-scorecard-grid">

            <div>
              <div class="grip-scorecard-pillar-label">Guidance</div>
              <div class="grip-scorecard-meter meter-guidance">
                <span id="meter-guidance"></span>
              </div>
              <div class="grip-scorecard-meter-row-footer">
                <span class="grip-scorecard-meter-score" id="score-guidance-text">45 / 100</span>
                <span class="grip-scorecard-meter-tag tag-critical" id="tag-guidance">Critical</span>
              </div>
            </div>

            <div>
              <div class="grip-scorecard-pillar-label">Resources</div>
              <div class="grip-scorecard-meter meter-resources">
                <span id="meter-resources"></span>
              </div>
              <div class="grip-scorecard-meter-row-footer">
                <span class="grip-scorecard-meter-score" id="score-resources-text">48 / 100</span>
                <span class="grip-scorecard-meter-tag tag-critical" id="tag-resources">Critical</span>
              </div>
            </div>

            <div>
              <div class="grip-scorecard-pillar-label">Implementation</div>
              <div class="grip-scorecard-meter meter-implementation">
                <span id="meter-implementation"></span>
              </div>
              <div class="grip-scorecard-meter-row-footer">
                <span class="grip-scorecard-meter-score" id="score-implementation-text">85 / 100</span>
                <span class="grip-scorecard-meter-tag tag-strong" id="tag-implementation">Strong</span>
              </div>
            </div>

            <div>
              <div class="grip-scorecard-pillar-label">Performance</div>
              <div class="grip-scorecard-meter meter-performance">
                <span id="meter-performance"></span>
              </div>
              <div class="grip-scorecard-meter-row-footer">
                <span class="grip-scorecard-meter-score" id="score-performance-text">43 / 100</span>
                <span class="grip-scorecard-meter-tag tag-critical" id="tag-performance">Critical</span>
              </div>
            </div>

          </div>

          <div class="grip-archetype-block">
            <div class="grip-archetype-label">GRIP archetype</div>
            <div class="grip-archetype-name" id="archetype-name">The Foundation Builder</div>
            <div class="grip-archetype-copy" id="archetype-copy">
              Multiple constraints are present. Build shared clarity first, then support it with structure,
              tooling and operating rhythm.
            </div>
          </div>

        </div>

      </div>
    </section>

    <!-- SLIDERS -->
    <section class="grip-sliders-section">
      <div class="grip-sliders-grid">

        <div class="grip-slider-card">
          <div class="grip-slider-header">
            <span>Guidance</span>
            <span class="grip-slider-value" id="value-guidance">45</span>
          </div>
          <div class="grip-slider-sub">Strategy, ICP, positioning and direction.</div>
          <input id="slider-guidance" type="range" min="0" max="100" value="45">
        </div>

        <div class="grip-slider-card">
          <div class="grip-slider-header">
            <span>Resources</span>
            <span class="grip-slider-value" id="value-resources">48</span>
          </div>
          <div class="grip-slider-sub">People, tools, budget and supporting systems.</div>
          <input id="slider-resources" type="range" min="0" max="100" value="48">
        </div>

        <div class="grip-slider-card">
          <div class="grip-slider-header">
            <span>Implementation</span>
            <span class="grip-slider-value" id="value-implementation">85</span>
          </div>
          <div class="grip-slider-sub">Execution quality across the customer lifecycle.</div>
          <input id="slider-implementation" type="range" min="0" max="100" value="85">
        </div>

        <div class="grip-slider-card">
          <div class="grip-slider-header">
            <span>Performance</span>
            <span class="grip-slider-value" id="value-performance">43</span>
          </div>
          <div class="grip-slider-sub">Revenue, retention, efficiency and momentum.</div>
          <input id="slider-performance" type="range" min="0" max="100" value="43">
        </div>

      </div>
    </section>

    <!-- CTA BANNER -->
    <section class="grip-cta-banner">
      <h2>Want the full GTM intelligence layer?</h2>
      <p>
        The GRIP Diamond gives you a fast, directional view. The GTM Intelligence Reportâ„¢ runs a 265-question
        diagnostic across twelve pillars and produces a prioritized roadmap for your leadership team.
      </p>

      <a href="gtm-intelligence-report.html" class="cta">Explore the GTM Intelligence Reportâ„¢</a>

      <div class="grip-cta-secondary">
        Or start with the free <a href="gtm-assessment.html">GTM Scoreâ„¢</a> to benchmark your current system.
      </div>
    </section>

  </div>
</main>

<footer>
  <div class="inner">
    Â© <span id="year"></span> Caugia Consulting Â· 
    <a href="privacy.html">Privacy notice</a> Â· 
    <a href="https://www.linkedin.com/in/meijertom" target="_blank" rel="noopener">LinkedIn</a> Â· 
    <a href="mailto:tom@caugia.com">tom@caugia.com</a>
  </div>
</footer>

<script>
  // Simple header behaviour and mobile nav
  document.addEventListener("DOMContentLoaded", function() {
    const toggle = document.querySelector(".menu-toggle");
    const mobileNav = document.querySelector(".nav-mobile");
    const header = document.querySelector("header");

    if (toggle && mobileNav) {
      toggle.addEventListener("click", () => {
        toggle.classList.toggle("active");
        mobileNav.classList.toggle("open");
      });
    }

    window.addEventListener("scroll", () => {
      if (!header) return;
      if (window.scrollY > 10) header.classList.add("scrolled");
      else header.classList.remove("scrolled");
    });

    const yearEl = document.getElementById("year");
    if (yearEl) yearEl.textContent = new Date().getFullYear();
  });
</script>

<script>
  // ==========================================================
  // GRIP DIAMOND D3 â€” Unified Minimal Engine
  // ==========================================================

  const gripState = {
    guidance: 45,
    resources: 48,
    implementation: 85,
    performance: 43
  };

  function gripStatus(score) {
    if (score < 50) return { label: "Critical", tag: "tag-critical", band: "band-critical" };
    if (score < 65) return { label: "Developing", tag: "tag-developing", band: "band-developing" };
    if (score < 80) return { label: "Solid", tag: "tag-solid", band: "band-solid" };
    return { label: "Strong", tag: "tag-strong", band: "band-strong" };
  }

  function gripArchetype(g, r, i, p) {
    const weak = [];
    if (g < 50) weak.push("G");
    if (r < 50) weak.push("R");
    if (i < 50) weak.push("I");
    if (p < 50) weak.push("P");

    const archetypes = {
      foundation: {
        name: "The Foundation Builder",
        copy: "Multiple constraints exist across the system. Build a shared model, clarify ownership and establish basic operating rhythm before scaling further."
      },
      directionless: {
        name: "The Directionless Engine",
        copy: "Execution is happening but direction is diluted. Align leadership around ICP, positioning and clear priorities so teams pull in the same direction."
      },
      constrained: {
        name: "The Constrained System",
        copy: "Intent is clear but resources lag behind. Strengthen the supporting infrastructure, headcount and tooling so strategy can translate into outcomes."
      },
      heroic: {
        name: "The Heroic Execution",
        copy: "Outcomes still rely on individuals rather than a system. Codify your best practices, standardise process and reduce dependence on hero players."
      },
      leaky: {
        name: "The Leaky Engine",
        copy: "Inputs look healthy but performance lags. Track the full lifecycle, tighten handoffs and address the stages where value leaks out of the funnel."
      }
    };

    if (weak.length >= 3) return archetypes.foundation;
    if (weak.includes("G")) return archetypes.directionless;
    if (weak.includes("R")) return archetypes.constrained;
    if (weak.includes("I")) return archetypes.heroic;
    if (weak.includes("P")) return archetypes.leaky;

    return archetypes.foundation;
  }

  function updateDiamond() {
    const svg = document.getElementById("grip-diamond-polygon");
    if (!svg) return;

    const cx = 130;
    const cy = 130;
    const maxR = 100;

    function point(angleDeg, value) {
      const r = (value / 100) * maxR;
      const rad = (angleDeg * Math.PI) / 180;
      const x = cx + r * Math.cos(rad);
      const y = cy - r * Math.sin(rad);
      return `${x},${y}`;
    }

    // Guidance = top 90Â°, Implementation = right 0Â°, Performance = bottom 270Â°, Resources = left 180Â°
    const gPt = point(90, gripState.guidance);
    const iPt = point(0, gripState.implementation);
    const pPt = point(270, gripState.performance);
    const rPt = point(180, gripState.resources);

    const points = `${gPt} ${iPt} ${pPt} ${rPt}`;
    svg.setAttribute("points", points);
  }

  function renderGrip() {
    const overallEl = document.getElementById("overall-score");
    const bandEl = document.getElementById("overall-band");
    const copyEl = document.getElementById("overall-copy");

    const g = gripState.guidance;
    const r = gripState.resources;
    const i = gripState.implementation;
    const p = gripState.performance;

    const overall = Math.round((g + r + i + p) / 4);
    const status = gripStatus(overall);

    if (overallEl) overallEl.textContent = overall;

    if (bandEl) {
      bandEl.textContent = status.label;
      bandEl.className = "grip-scorecard-band " + status.band;
    }

    if (copyEl) {
      if (overall < 50) {
        copyEl.textContent =
          "Your GTM system is under strain. The diamond highlights structural constraints that need attention before growth can be scaled with confidence.";
      } else if (overall < 70) {
        copyEl.textContent =
          "You have partial foundations in place. Some dimensions are carrying disproportionate weight, which can create friction and unpredictable results.";
      } else if (overall < 85) {
        copyEl.textContent =
          "Your GTM system is largely stable. Incremental refinements across weaker dimensions can unlock more consistent performance.";
      } else {
        copyEl.textContent =
          "You operate from a strong GTM system. Focus on preserving discipline, avoiding complexity creep and using data to guide the next evolution.";
      }
    }

    function updateDim(key, meterId, scoreId, tagId) {
      const value = gripState[key];

      const meter = document.getElementById(meterId);
      const scoreText = document.getElementById(scoreId);
      const tagEl = document.getElementById(tagId);

      if (meter) {
        const span = meter.querySelector("span");
        if (span) span.style.transform = "scaleX(" + value / 100 + ")";
      }

      if (scoreText) {
        scoreText.textContent = value + " / 100";
      }

      if (tagEl) {
        const st = gripStatus(value);
        tagEl.textContent = st.label;
        tagEl.className = "grip-scorecard-meter-tag " + st.tag;
      }

      const vLabel = document.getElementById("value-" + key);
      if (vLabel) vLabel.textContent = value;
    }

    updateDim("guidance", "meter-guidance", "score-guidance-text", "tag-guidance");
    updateDim("resources", "meter-resources", "score-resources-text", "tag-resources");
    updateDim("implementation", "meter-implementation", "score-implementation-text", "tag-implementation");
    updateDim("performance", "meter-performance", "score-performance-text", "tag-performance");

    const arch = gripArchetype(g, r, i, p);
    const nameEl = document.getElementById("archetype-name");
    const copyArchEl = document.getElementById("archetype-copy");
    if (nameEl) nameEl.textContent = arch.name;
    if (copyArchEl) copyArchEl.textContent = arch.copy;

    updateDiamond();
  }

  function bindGripSlider(id, key) {
    const el = document.getElementById(id);
    if (!el) return;
    el.addEventListener("input", function(e) {
      const v = parseInt(e.target.value, 10);
      gripState[key] = isNaN(v) ? 0 : v;
      renderGrip();
    });
  }

  document.addEventListener("DOMContentLoaded", function() {
    bindGripSlider("slider-guidance", "guidance");
    bindGripSlider("slider-resources", "resources");
    bindGripSlider("slider-implementation", "implementation");
    bindGripSlider("slider-performance", "performance");
    renderGrip();
  });
</script>

</body>
</html>

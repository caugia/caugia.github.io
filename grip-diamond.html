<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>The GRIP Diamond | Caugia Consulting</title>
  <meta name="description" content="The GTM Health Diamond shows how Guidance, Resources, Implementation and Performance move together as one revenue system. Adjust the four GRIP dimensions and see how your GTM health, archetype and priorities respond." />

  <link rel="icon" href="assets/C-logo.png" type="image/png" sizes="512x512">
  <link rel="apple-touch-icon" href="assets/C-logo.png">
  <meta name="msapplication-TileImage" content="assets/C-logo.png">

  <link rel="stylesheet" href="assets/caugia.css?v=8.0" />

  <!-- ðŸ”’ SECURITY: Protect this entire page -->
  <script src="/auth.js"></script>

  <style>
    /* ===========================================================
       GRIP DIAMOND PAGE v3.5 â€” Layout + Fine-tuning
       Works on top of global caugia.css v8.0
       =========================================================== */

    body.grip-page {
      background: var(--bg-light);
    }

    /* Hero padding iets hoger tegen de header aan dan standaard pages */
    .grip-page main .wrap {
      padding-top: clamp(56px, 7vw, 72px);
      padding-bottom: clamp(64px, 7vw, 80px);
    }

    /* ---------------- Hero ---------------- */

    .grip-hero {
      max-width: 740px;
      margin: 0 auto 40px;
      text-align: left;
    }

    .grip-hero-eyebrow {
      font-size: 0.85rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: rgba(15, 23, 42, 0.6);
      margin-bottom: 8px;
    }

    .grip-hero h1 {
      margin-bottom: 10px;
      color: var(--blue);
    }

    .grip-hero p {
      max-width: 720px;
      color: rgba(15, 23, 42, 0.8);
    }

    /* ---------------- Layout grids ---------------- */

    .grip-top-grid,
    .grip-mid-grid,
    .grip-bottom-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
      gap: 28px;
      margin-bottom: 32px;
      align-items: start;
    }

    @media (max-width: 980px) {
      .grip-top-grid,
      .grip-mid-grid,
      .grip-bottom-grid {
        grid-template-columns: 1fr;
      }
    }

    /* ---------------- Diamond card tweaks ---------------- */

    .grip-diamond-card {
      margin: 0;
    }

    .grip-diamond-header {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .grip-diamond-eyebrow {
      font-size: 0.78rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: rgba(148, 163, 184, 1);
    }

    .grip-diamond-intro {
      max-width: 720px;
    }

    .grip-diamond-hint {
      margin-top: 6px;
      font-size: 0.82rem;
      color: rgba(148, 163, 184, 1);
    }

    .grip-diamond-canvas {
      margin-top: 26px;
      padding: 24px 0 10px;
    }

    .grip-diamond-svg {
      width: 340px;
      max-width: 100%;
    }

    /* ---------------- Health panel alignment ---------------- */

    .grip-health-card {
      margin: 0;
    }

    .grip-health-score {
      width: 72px;
      text-align: right;
    }

    .grip-health-chip {
      min-width: 112px; /* gebaseerd op 'DEVELOPING' */
      text-align: center;
    }

    /* ---------------- Adjust your GRIP dimensions ---------------- */

    .grip-adjust-card {
      background: #ffffff;
      border-radius: 16px;
      border: 1px solid rgba(15, 23, 42, 0.06);
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.06);
      padding: 28px 30px 26px;
    }

    .grip-adjust-header h2 {
      margin-bottom: 4px;
    }

    .grip-adjust-header p {
      font-size: 0.94rem;
      color: rgba(75, 85, 99, 1);
    }

    .grip-adjust-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 18px 22px;
      margin-top: 18px;
    }

    @media (max-width: 720px) {
      .grip-adjust-grid {
        grid-template-columns: 1fr;
      }
    }

    .grip-adjust-item {
      background: #f9fafb;
      border-radius: 14px;
      padding: 14px 14px 12px;
      border: 1px solid rgba(226, 232, 240, 1);
    }

    .grip-adjust-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .grip-adjust-label {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--ink);
    }

    .grip-adjust-value {
      font-size: 0.88rem;
      color: rgba(75, 85, 99, 1);
    }

    .grip-adjust-caption {
      font-size: 0.8rem;
      color: rgba(100, 116, 139, 1);
      margin-top: 8px;
    }

    .grip-slider-wrap {
      margin-top: 2px;
    }

    .grip-slider-wrap input[type="range"] {
      width: 100%;
      appearance: none;
      height: 8px;
      border-radius: 999px;
      background: #e5e7eb;
      cursor: pointer;
      margin: 0;
    }

    .grip-slider-wrap input[type="range"]::-webkit-slider-runnable-track {
      height: 8px;
      border-radius: 999px;
      background: #e5e7eb;
    }

    .grip-slider-wrap input[type="range"]::-moz-range-track {
      height: 8px;
      border-radius: 999px;
      background: #e5e7eb;
    }

    .grip-slider-wrap input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #0046a5;
      border: 4px solid #ffffff;
      margin-top: -5px; /* centreert de knob perfect op een rail van 8px */
      box-shadow: 0 0 0 3px rgba(0, 70, 165, 0.18);
    }

    .grip-slider-wrap input[type="range"]::-moz-range-thumb {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #0046a5;
      border: 4px solid #ffffff;
      box-shadow: 0 0 0 3px rgba(0, 70, 165, 0.18);
    }

    /* ---------------- Insight & bottom cards ---------------- */

    .grip-insight-list ul {
      padding-left: 18px;
      margin-top: 10px;
    }

    .grip-insight-list li {
      font-size: 0.9rem;
      margin-bottom: 6px;
      color: rgba(15, 23, 42, 0.85);
    }

    .grip-insight-list strong {
      font-weight: 600;
      color: var(--ink);
    }

    .grip-bottom-grid article h2 {
      margin-bottom: 8px;
    }

    .grip-bottom-grid article p {
      font-size: 0.94rem;
      margin-bottom: 12px;
    }

    .grip-bottom-grid ol {
      padding-left: 18px;
      margin: 4px 0 0;
    }

    .grip-bottom-grid li {
      font-size: 0.9rem;
      margin-bottom: 6px;
      color: rgba(15, 23, 42, 0.85);
    }

    .grip-exec-summary {
      font-size: 0.94rem;
      line-height: 1.65;
      color: rgba(15, 23, 42, 0.85);
      max-width: 720px;
    }

    /* ---------------- CTA banner ---------------- */

    .grip-cta {
      background: #fff;
      border-radius: 20px;
      border: 1px solid rgba(0, 0, 0, 0.06);
      box-shadow: 0 24px 70px rgba(15, 23, 42, 0.08);
      padding: 34px 32px 30px;
      text-align: center;
      margin-top: 12px;
    }

    .grip-cta h2 {
      font-size: 1.4rem;
      margin-bottom: 6px;
      color: var(--ink);
    }

    .grip-cta p {
      font-size: 0.94rem;
      color: rgba(15, 23, 42, 0.8);
      max-width: 640px;
      margin: 0 auto 18px;
    }

    .grip-cta .cta {
      display: inline-flex;
      margin-bottom: 8px;
    }

    .grip-cta-secondary {
      font-size: 0.86rem;
      color: rgba(100, 116, 139, 1);
    }

    .grip-cta-secondary a {
      color: var(--blue);
    }

    .grip-cta-secondary a:hover {
      text-decoration: underline;
    }
  </style>
</head>

<body class="grip-page">
<header>
  <div class="inner">
    <a href="index.html" class="brand">
      <img src="assets/C-logo.png" alt="Caugia Consulting logo">
      <span>Caugia Consulting</span>
    </a>

    <nav class="nav-desktop">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="services.html">Services</a>
      <a href="grip-diamond.html" class="active">GRIP Diamond</a>
      <a href="gtm-assessment.html">GTM Score</a>
      <a href="resources.html">Resources</a>
      <a class="cta" href="mailto:hello@caugia.com">Contact</a>
    </nav>

    <button class="menu-toggle" aria-label="Open navigation">
      <span></span>
    </button>

    <nav class="nav-mobile">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="services.html">Services</a>
      <a href="grip-diamond.html" class="active">GRIP Diamond</a>
      <a href="gtm-assessment.html">GTM Score</a>
      <a href="resources.html">Resources</a>
      <a href="mailto:hello@caugia.com">Contact</a>
    </nav>
  </div>
</header>

<main>
  <div class="wrap">

    <!-- =========================================
         HERO
    ========================================== -->
    <section class="grip-hero">
      <div class="grip-hero-eyebrow">The GRIP Framework</div>
      <h1>The GTM Health Diamond</h1>
      <p>
        Adjust the four GRIP dimensions and see how your revenue system behaves as one whole.
        The diamond mirrors the structure used in the GTM Intelligence Report and turns abstract performance
        into a clear, calm picture for leadership.
      </p>
    </section>

    <!-- =========================================
         TOP GRID: DIAMOND + HEALTH PANEL
    ========================================== -->
    <section class="grip-top-grid">

      <!-- LEFT: DIAMOND -->
      <article class="grip-diamond-card">
        <div class="grip-diamond-header">
          <div class="grip-diamond-eyebrow">Grip diamond</div>
          <h2>System shape</h2>
          <p class="grip-diamond-intro">
            The size and balance of the diamond show how Guidance, Resources, Implementation and Performance move
            together. A narrow diamond signals fragility. A wide but uneven shape signals stress on specific parts
            of the engine.
          </p>
          <p class="grip-diamond-hint">Move a slider and watch the system shape respond.</p>
        </div>

        <div class="grip-diamond-canvas">
          <svg id="gripDiamondSVG" class="grip-diamond-svg" viewBox="0 0 260 260" aria-hidden="true">
            <!-- Grid rings and live shape will be injected with JavaScript -->
          </svg>

          <div class="grip-diamond-label grip-diamond-label-top">Guidance</div>
          <div class="grip-diamond-label grip-diamond-label-right">Implementation</div>
          <div class="grip-diamond-label grip-diamond-label-left">Resources</div>
          <div class="grip-diamond-label grip-diamond-label-bottom">Performance</div>
        </div>
      </article>

      <!-- RIGHT: HEALTH PANEL -->
      <article class="grip-health-card">
        <div class="grip-health-heading">
          <p class="grip-eyebrow">Your GRIP health</p>
          <h2>How your system is leaning today</h2>
          <p class="grip-health-intro">
            This panel combines the four GRIP scores into a single view. It shows the overall health,
            the maturity band and the balance across your revenue engine.
          </p>
        </div>

        <div class="grip-health-score-row">
          <div class="grip-health-score-main">
            <span id="gripOverallScore" class="grip-score-big">55</span>
            <span class="grip-score-unit">/ 100</span>
          </div>
          <div class="grip-health-badges">
            <span id="gripMaturityBand" class="grip-pill grip-pill-band">Developing</span>
            <span id="gripStabilityIndex" class="grip-pill grip-pill-stability">Unstable</span>
          </div>
        </div>

        <div class="grip-health-metrics">
          <!-- Guidance -->
          <div class="grip-health-row">
            <div class="grip-health-label">Guidance</div>
            <div class="grip-health-bar">
              <span id="gripBarGuidance" style="--value:45%;"></span>
            </div>
            <div id="gripScoreGuidance" class="grip-health-score">45 / 100</div>
            <div id="gripChipGuidance" class="grip-health-chip grip-chip-critical">Critical</div>
          </div>

          <!-- Resources -->
          <div class="grip-health-row">
            <div class="grip-health-label">Resources</div>
            <div class="grip-health-bar">
              <span id="gripBarResources" style="--value:48%;"></span>
            </div>
            <div id="gripScoreResources" class="grip-health-score">48 / 100</div>
            <div id="gripChipResources" class="grip-health-chip grip-chip-critical">Critical</div>
          </div>

          <!-- Implementation -->
          <div class="grip-health-row">
            <div class="grip-health-label">Implementation</div>
            <div class="grip-health-bar">
              <span id="gripBarImplementation" style="--value:85%;"></span>
            </div>
            <div id="gripScoreImplementation" class="grip-health-score">85 / 100</div>
            <div id="gripChipImplementation" class="grip-health-chip grip-chip-strong">Strong</div>
          </div>

          <!-- Performance -->
          <div class="grip-health-row">
            <div class="grip-health-label">Performance</div>
            <div class="grip-health-bar">
              <span id="gripBarPerformance" style="--value:43%;"></span>
            </div>
            <div id="gripScorePerformance" class="grip-health-score">43 / 100</div>
            <div id="gripChipPerformance" class="grip-health-chip grip-chip-critical">Critical</div>
          </div>
        </div>

        <div class="grip-health-footer">
          <p class="grip-eyebrow small">GRIP archetype and pattern</p>
          <h3 id="gripArchetypeName" class="grip-archetype-name">The Overextended Execution</h3>
          <p id="gripArchetypeBody" class="grip-archetype-body">
            Execution is running ahead of direction. You can win deals but the story, ICP and focus are not yet
            clear enough. Alignment where you plan, say and do work feels heavy and noisy.
          </p>
        </div>
      </article>
    </section>

    <!-- =========================================
         MID GRID: ADJUST + CURRENT SHAPE
    ========================================== -->
    <section class="grip-mid-grid">

      <!-- LEFT: ADJUST YOUR GRIP DIMENSIONS -->
      <article class="grip-adjust-card">
        <div class="grip-adjust-header">
          <h2>Adjust your GRIP dimensions</h2>
          <p>
            Set each slider to reflect the current state of your organisation. This works best when you think about
            reality rather than aspiration. As you adjust the sliders, the diamond, the health panel and the narrative
            on the right all reframe in real time.
          </p>
        </div>

        <div class="grip-adjust-grid">

          <div class="grip-adjust-item">
            <div class="grip-adjust-top">
              <div class="grip-adjust-label">Guidance</div>
              <div class="grip-adjust-value"><span id="adjustGuidanceValue">45</span> / 100</div>
            </div>
            <div class="grip-slider-wrap">
              <input id="sliderGuidance" type="range" min="0" max="100" value="45">
            </div>
            <div class="grip-adjust-caption">
              Strategy, ICP and direction. How clearly you set the path and enforce it across GTM teams.
            </div>
          </div>

          <div class="grip-adjust-item">
            <div class="grip-adjust-top">
              <div class="grip-adjust-label">Resources</div>
              <div class="grip-adjust-value"><span id="adjustResourcesValue">48</span> / 100</div>
            </div>
            <div class="grip-slider-wrap">
              <input id="sliderResources" type="range" min="0" max="100" value="48">
            </div>
            <div class="grip-adjust-caption">
              People, budget, tooling and supporting systems that keep your GTM engine running without heroics.
            </div>
          </div>

          <div class="grip-adjust-item">
            <div class="grip-adjust-top">
              <div class="grip-adjust-label">Implementation</div>
              <div class="grip-adjust-value"><span id="adjustImplementationValue">85</span> / 100</div>
            </div>
            <div class="grip-slider-wrap">
              <input id="sliderImplementation" type="range" min="0" max="100" value="85">
            </div>
            <div class="grip-adjust-caption">
              The quality of execution across the lifecycle. Campaigns, programs and sales motions in practice.
            </div>
          </div>

          <div class="grip-adjust-item">
            <div class="grip-adjust-top">
              <div class="grip-adjust-label">Performance</div>
              <div class="grip-adjust-value"><span id="adjustPerformanceValue">43</span> / 100</div>
            </div>
            <div class="grip-slider-wrap">
              <input id="sliderPerformance" type="range" min="0" max="100" value="43">
            </div>
            <div class="grip-adjust-caption">
              Revenue, retention and efficiency. In simple terms, what your current system produces over time.
            </div>
          </div>

        </div>
      </article>

      <!-- RIGHT: CURRENT SHAPE REVEAL -->
      <article class="grip-health-card">
        <h2>What your current shape reveals</h2>
        <p>
          The engine is described using four simple elements. The primary constraint, the hidden drag,
          a compounding risk and the first high impact fix for leadership.
        </p>

        <div class="grip-insight-list">
          <ul>
            <li id="insightPrimary">
              <strong>Primary constraint:</strong>
              Performance is limiting the system. Until this improves, growth will feel heavy and unpredictable.
            </li>
            <li id="insightHidden">
              <strong>Hidden drag:</strong>
              Guidance is relatively weak. This creates friction, context switching and ad hoc workarounds.
            </li>
            <li id="insightCompounding">
              <strong>Compounding risk:</strong>
              Misalignment between Implementation and Performance amplifies every new campaign, hire and segment.
            </li>
            <li id="insightFirstImpact">
              <strong>First high impact fix:</strong>
              Focus the next ninety days on a single GTM change that directly lifts the primary constraint.
            </li>
          </ul>
        </div>

        <p style="margin-top: 12px;">
          The GTM Intelligence Report turns this simple pattern into a full twelve pillar diagnostic,
          backed by 265 questions and a clear priority sequence.
        </p>
      </article>
    </section>

    <!-- =========================================
         BOTTOM GRID: PRIORITY + EXEC SUMMARY
    ========================================== -->
    <section class="grip-bottom-grid">

      <!-- LEFT: PRIORITY SEQUENCE -->
      <article class="grip-health-card">
        <h2>Priority sequence for the next ninety days</h2>
        <p>
          The list below ranks the four dimensions by practical impact if you lifted them in the next quarter.
          It does not replace a full roadmap but gives a clean starting point for leadership conversation.
        </p>

        <ol id="priorityList">
          <li><strong>Performance.</strong> Stabilise outcomes. Focus on the parts of the lifecycle that drive reliable, compounding revenue.</li>
          <li><strong>Resources.</strong> Stabilise capacity. Address the most obvious gaps in headcount, budget or tooling before scaling volume.</li>
          <li><strong>Guidance.</strong> Clarify ICP, positioning and trade offs. Make it easier for teams to say yes or no to new opportunities.</li>
          <li><strong>Implementation.</strong> Codify one or two critical motions. Align steps, instrumentation and coaching so that execution compounds.</li>
        </ol>
      </article>

      <!-- RIGHT: EXEC SUMMARY -->
      <article class="grip-health-card">
        <h2>Executive summary in one paragraph</h2>
        <p id="execSummaryText" class="grip-exec-summary">
          Implementation is the primary constraint. Plans exist but they are not delivered with the same discipline
          across channels and segments. Performance acts as the hidden drag. Wins happen but are hard to explain in a
          simple pattern that others can repeat. Resources are the relative strength. The organisation can support
          more if the front of the system is focused. Use this diamond as a shared picture with your leadership team
          and agree one ninety day focus that directly lifts the primary constraint before starting new projects.
        </p>
      </article>
    </section>

    <!-- =========================================
         CTA
    ========================================== -->
   <section class="home-section">
  <div class="container">
    <article class="card gtm-diagnostic-cta">
      <h2>Ready for a complete GTM diagnostic?</h2>
      <p class="gtm-diagnostic-lead">
        The GTM Intelligence Report combines twelve pillars, 265 questions and AI analysis into
        one clear narrative that you can share with your leadership team.
      </p>

      <ul class="gtm-diagnostic-points">
        <li>See how your current motion behaves across guidance, resources, implementation and performance.</li>
        <li>Identify constraints, compounding risks and first high impact fixes for the next ninety days.</li>
        <li>Receive an AI generated report you can send to your CEO or board within minutes.</li>
      </ul>

      <div class="gtm-diagnostic-actions">
        <a href="gtm-intelligence-report.html" class="cta">
          Explore the Intelligence Report
        </a>
        <button type="button" class="gtm-diagnostic-link" onclick="window.location.href='gtm-score.html'">
          Or start with the free GTM Score
        </button>
      </div>
    </article>
  </div>
</section>
  </div>
</main>

<footer>
  <div class="footer-inner">
    <div class="footer-left">
      <p>Â© 2025 Caugia Consulting</p>
    </div>
    <div class="footer-right">
      <a href="privacy.html">Privacy notice</a>
      <a href="https://www.linkedin.com/in/meijertom" target="_blank" rel="noopener">LinkedIn</a>
      <a href="mailto:tom@caugia.com">tom@caugia.com</a>
    </div>
  </div>
</footer>

<!-- =========================================
     HEADER TOGGLE SCRIPT
========================================== -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggle = document.querySelector(".menu-toggle");
    const mobileNav = document.querySelector(".nav-mobile");

    if (toggle && mobileNav) {
      toggle.addEventListener("click", () => {
        toggle.classList.toggle("active");
        mobileNav.classList.toggle("open");
      });
    }

    window.addEventListener("scroll", () => {
      const header = document.querySelector("header");
      if (window.scrollY > 10) header.classList.add("scrolled");
      else header.classList.remove("scrolled");
    });
  });
</script>

<!-- =========================================
     GRIP DIAMOND ENGINE
========================================== -->
<script>
  (function () {
    const state = {
      guidance: 45,
      resources: 48,
      implementation: 85,
      performance: 43
    };

    function bandFromScore(score) {
      if (score < 40) return "At Risk";
      if (score < 55) return "Unstable";
      if (score < 70) return "Developing";
      if (score < 80) return "Performing";
      if (score < 90) return "High Performing";
      return "Best in Class";
    }

    function stabilityFromSpread(g, r, i, p) {
      const values = [g, r, i, p];
      const max = Math.max.apply(null, values);
      const min = Math.max(0, Math.min.apply(null, values));
      const spread = max - min;
      if (spread < 12) return { label: "Balanced", pillClass: "grip-pill-band" };
      if (spread < 25) return { label: "Stretched", pillClass: "grip-pill-stability" };
      return { label: "Fragile", pillClass: "grip-chip-critical" };
    }

    function statusForValue(v) {
      if (v < 50) return { label: "Critical", pillClass: "grip-chip-critical" };
      if (v < 70) return { label: "Developing", pillClass: "grip-chip-critical" };
      if (v < 85) return { label: "Strong", pillClass: "grip-chip-strong" };
      return { label: "Balanced", pillClass: "grip-chip-strong" };
    }

    function drawDiamond(g, r, i, p) {
      const svg = document.getElementById("gripDiamondSVG");
      if (!svg) return;

      const cx = 130;
      const cy = 130;
      const maxR = 90;

      function pt(angleDeg, value) {
        const rad = angleDeg * Math.PI / 180;
        const radius = (value / 100) * maxR;
        return {
          x: cx + radius * Math.cos(rad),
          y: cy - radius * Math.sin(rad)
        };
      }

      const rings = [30, 60, 90];

      let grid = "";
      rings.forEach(ring => {
        const G = pt(90, ring);
        const I = pt(0, ring);
        const P = pt(270, ring);
        const R = pt(180, ring);
        grid += `
          <polygon 
            points="${G.x},${G.y} ${I.x},${I.y} ${P.x},${P.y} ${R.x},${R.y}"
            fill="none"
            stroke="rgba(226,232,240,0.9)"
            stroke-width="1"
          />
        `;
      });

      const G = pt(90, g);
      const I = pt(0, i);
      const P = pt(270, p);
      const R = pt(180, r);

      const shape = `
        <polygon 
          points="${G.x},${G.y} ${I.x},${I.y} ${P.x},${P.y} ${R.x},${R.y}"
          fill="rgba(0,70,165,0.11)"
          stroke="#0046A5"
          stroke-width="2.2"
        />
        <circle cx="${cx}" cy="${cy}" r="4" fill="#ffffff" stroke="#0046A5" stroke-width="1.4" />
      `;

      svg.innerHTML = grid + shape;
    }

    function describeShape(g, r, i, p) {
      const entries = [
        { key: "Guidance", value: g },
        { key: "Resources", value: r },
        { key: "Implementation", value: i },
        { key: "Performance", value: p }
      ];

      const sorted = entries.slice().sort((a, b) => a.value - b.value);
      const primary = sorted[0];
      const hidden = sorted[1];
      const strongest = sorted[3];

      const average = (g + r + i + p) / 4;
      let compoundingDimension = strongest.key;
      if (Math.abs(primary.value - average) > 20) {
        compoundingDimension = primary.key;
      }

      function textForConstraint(dim) {
        switch (dim) {
          case "Guidance":
            return "Guidance is limiting the system. The story, ICP and trade offs are not yet sharp enough which makes every decision slower.";
          case "Resources":
            return "Resources are limiting the system. There is not enough capacity, budget or tooling to support the current level of ambition.";
          case "Implementation":
            return "Implementation is limiting the system. Plans exist but they are not consistently executed across channels and teams.";
          default:
            return "Performance is limiting the system. Outputs lag behind inputs and it is hard to see predictable progress quarter over quarter.";
        }
      }

      function textForHidden(dim) {
        switch (dim) {
          case "Guidance":
            return "Guidance is the hidden drag. Decisions are made but often revisited which creates friction and context switching.";
          case "Resources":
            return "Resources are the hidden drag. Teams compensate with effort and heroics which is not sustainable.";
          case "Implementation":
            return "Implementation is the hidden drag. Everyone is busy but the work does not compound into clear progress.";
          default:
            return "Performance is the hidden drag. The team works hard but the commercial results do not yet reflect the effort.";
        }
      }

      function textForCompounding(dim) {
        switch (dim) {
          case "Guidance":
            return "Misalignment between Guidance and the other dimensions amplifies noise. Every campaign and new hire stretches the system.";
          case "Resources":
            return "Gaps in Resources compound risk. New initiatives arrive faster than the organisation can support them.";
          case "Implementation":
            return "Uneven Implementation compounds risk. Strong direction without disciplined follow through creates credibility issues over time.";
          default:
            return "Weak Performance compounds risk. It becomes harder to secure budget, attract talent and commit to long term moves.";
        }
      }

      function textForFirstImpact(dim) {
        switch (dim) {
          case "Guidance":
            return "Use the next ninety days to sharpen ICP, positioning and directional choices. Decide what you will not chase and stick to it.";
          case "Resources":
            return "Use the next ninety days to stabilise capacity. Clarify ownership, fix the most painful gaps and remove low impact work.";
          case "Implementation":
            return "Use the next ninety days to codify one repeatable motion. Agree on the steps, instrument it properly and coach against it.";
          default:
            return "Use the next ninety days to stabilise performance. Focus on the deals and customers that are most likely to close and renew.";
        }
      }

      return {
        primary,
        hidden,
        strongest,
        primaryText: textForConstraint(primary.key),
        hiddenText: textForHidden(hidden.key),
        compoundingText: textForCompounding(compoundingDimension),
        firstImpactText: textForFirstImpact(primary.key),
        sorted
      };
    }

    function archetypeFromPattern(g, r, i, p) {
      const avg = (g + r + i + p) / 4;
      const values = { Guidance: g, Resources: r, Implementation: i, Performance: p };

      const minDim = Object.keys(values).reduce((a, b) => (values[a] <= values[b] ? a : b));
      const maxDim = Object.keys(values).reduce((a, b) => (values[a] >= values[b] ? a : b));

      if (Math.min(g, r, i, p) > 70 && Math.max(g, r, i, p) - Math.min(g, r, i, p) < 10) {
        return {
          name: "The Balanced System",
          body: "All four GRIP dimensions sit in a healthy and relatively balanced band. The main risk is complacency. Use this stability to make a small number of bold, well sequenced bets rather than spreading effort thin."
        };
      }

      if (maxDim === "Implementation" && minDim === "Guidance") {
        return {
          name: "The Overextended Execution",
          body: "Execution runs ahead of direction. The team can launch campaigns and run deals but the story, ICP and trade offs are not yet sharp enough. Tighten Guidance so that strong Implementation compounds instead of creating noise."
        };
      }

      if (maxDim === "Guidance" && minDim === "Resources") {
        return {
          name: "The Capacity Crunch",
          body: "Strategy is clearer than the capacity that supports it. Ambition outpaces people, budget and tooling. Tighten focus and invest in the few motions that matter most before adding new ones."
        };
      }

      if (minDim === "Performance" && avg >= 55) {
        return {
          name: "The Leaky Bucket",
          body: "Inputs and activity look reasonable but results are not yet catching up. Review conversion, retention and expansion paths. Fix the few steps where value leaks out of the system before chasing more volume."
        };
      }

      if (minDim === "Implementation") {
        return {
          name: "The Patchwork Execution",
          body: "Direction, resources and ambition exist but execution is uneven. Outcomes depend too much on individuals. Use this pattern to define one or two critical motions and bring rhythm, coaching and instrumentation around them."
        };
      }

      return {
        name: "The Emerging System",
        body: "The four GRIP dimensions are developing but not yet moving in sync. Use the next quarter to lift the weakest dimension, reduce spread across the system and create a calmer platform for future growth."
      };
    }

    function updatePriorityList(sorted) {
      const list = document.getElementById("priorityList");
      if (!list) return;

      const items = sorted.map(({ key }) => {
        let text;
        if (key === "Guidance") {
          text = "Clarify ICP, positioning and trade offs. Make it easier for teams to say yes or no to new opportunities.";
        } else if (key === "Resources") {
          text = "Stabilise capacity. Address the most obvious gaps in headcount, budget or tooling before scaling volume.";
        } else if (key === "Implementation") {
          text = "Codify one or two critical motions. Align steps, instrumentation and coaching so that execution compounds.";
        } else {
          text = "Stabilise outcomes. Focus on the parts of the lifecycle that drive reliable, compounding revenue.";
        }
        return `<li><strong>${key}.</strong> ${text}</li>`;
      });

      list.innerHTML = items.join("");
    }

    function updateExecSummary(primary, hidden, strongest) {
      const el = document.getElementById("execSummaryText");
      if (!el) return;

      const pKey = primary.key;
      const hKey = hidden.key;
      const sKey = strongest.key;

      const sentencePrimary = (() => {
        if (pKey === "Guidance") {
          return "Guidance is the primary constraint. Teams work hard but the story and ICP are not yet sharp enough which makes every choice slower.";
        }
        if (pKey === "Resources") {
          return "Resources are the primary constraint. Ambition and pipeline grow faster than the capacity that supports them.";
        }
        if (pKey === "Implementation") {
          return "Implementation is the primary constraint. Plans exist but they are not delivered with the same discipline across channels and segments.";
        }
        return "Performance is the primary constraint. The commercial output does not yet match the volume of effort and activity.";
      })();

      const sentenceHidden = (() => {
        if (hKey === "Guidance") {
          return " Guidance acts as the hidden drag which introduces noise, rework and debate in key decisions.";
        }
        if (hKey === "Resources") {
          return " Resources quietly slow the system through stretched teams, manual work and inconsistent support.";
        }
        if (hKey === "Implementation") {
          return " Implementation acts as the hidden drag. A lot of work starts but less of it lands in a clean, repeatable way.";
        }
        return " Performance acts as the hidden drag. Wins happen but are hard to explain in a simple pattern that others can repeat.";
      })();

      const sentenceStrength = (() => {
        if (sKey === "Guidance") {
          return " Guidance is the relative strength which you can use as a spine for future GTM changes.";
        }
        if (sKey === "Resources") {
          return " Resources are the relative strength. The organisation can support more if the front of the system is focused.";
        }
        if (sKey === "Implementation") {
          return " Implementation is the relative strength. When direction and focus catch up, execution can scale quickly.";
        }
        return " Performance is the relative strength. Use this as proof that the system can work when the right customers and motions are in play.";
      })();

      const sentenceNinetyDays =
        " Use this diamond as a shared picture with your leadership team and agree one ninety day focus that directly lifts the primary constraint before starting new projects.";

      el.textContent = sentencePrimary + sentenceHidden + sentenceStrength + sentenceNinetyDays;
    }

    function render() {
      const g = state.guidance;
      const r = state.resources;
      const i = state.implementation;
      const p = state.performance;

      const overall = Math.round((g + r + i + p) / 4);

      const overallScoreEl = document.getElementById("gripOverallScore");
      if (overallScoreEl) overallScoreEl.textContent = overall;

      const bandLabel = bandFromScore(overall);
      const bandEl = document.getElementById("gripMaturityBand");
      if (bandEl) bandEl.textContent = bandLabel;

      const stab = stabilityFromSpread(g, r, i, p);
      const stabEl = document.getElementById("gripStabilityIndex");
      if (stabEl) {
        stabEl.textContent = stab.label;
        stabEl.className = "grip-pill grip-pill-stability";
      }

      function updateDim(value, barId, scoreId, chipId, adjustId) {
        const barSpan = document.getElementById(barId);
        if (barSpan) barSpan.style.setProperty("--value", value + "%");

        const scoreEl = document.getElementById(scoreId);
        if (scoreEl) scoreEl.textContent = value + " / 100";

        const status = statusForValue(value);
        const chip = document.getElementById(chipId);
        if (chip) {
          chip.textContent = status.label;
          chip.className = "grip-health-chip " + status.pillClass;
        }

        const adj = document.getElementById(adjustId);
        if (adj) adj.textContent = value;
      }

      updateDim(g, "gripBarGuidance", "gripScoreGuidance", "gripChipGuidance", "adjustGuidanceValue");
      updateDim(r, "gripBarResources", "gripScoreResources", "gripChipResources", "adjustResourcesValue");
      updateDim(i, "gripBarImplementation", "gripScoreImplementation", "gripChipImplementation", "adjustImplementationValue");
      updateDim(p, "gripBarPerformance", "gripScorePerformance", "gripChipPerformance", "adjustPerformanceValue");

      drawDiamond(g, r, i, p);

      const shape = describeShape(g, r, i, p);

      const primaryEl = document.getElementById("insightPrimary");
      if (primaryEl) {
        primaryEl.innerHTML = "<strong>Primary constraint:</strong> " + shape.primaryText;
      }

      const hiddenEl = document.getElementById("insightHidden");
      if (hiddenEl) {
        hiddenEl.innerHTML = "<strong>Hidden drag:</strong> " + shape.hiddenText;
      }

      const compEl = document.getElementById("insightCompounding");
      if (compEl) {
        compEl.innerHTML = "<strong>Compounding risk:</strong> " + shape.compoundingText;
      }

      const impactEl = document.getElementById("insightFirstImpact");
      if (impactEl) {
        impactEl.innerHTML = "<strong>First high impact fix:</strong> " + shape.firstImpactText;
      }

      const arch = archetypeFromPattern(g, r, i, p);
      const archNameEl = document.getElementById("gripArchetypeName");
      const archBodyEl = document.getElementById("gripArchetypeBody");
      if (archNameEl) archNameEl.textContent = arch.name;
      if (archBodyEl) archBodyEl.textContent = arch.body;

      updatePriorityList(shape.sorted);
      updateExecSummary(shape.primary, shape.hidden, shape.strongest);
    }

    function bindSlider(id, key) {
      const el = document.getElementById(id);
      if (!el) return;
      el.addEventListener("input", function (e) {
        const value = parseInt(e.target.value, 10);
        if (!isNaN(value)) {
          state[key] = value;
          render();
        }
      });
    }

    document.addEventListener("DOMContentLoaded", function () {
      bindSlider("sliderGuidance", "guidance");
      bindSlider("sliderResources", "resources");
      bindSlider("sliderImplementation", "implementation");
      bindSlider("sliderPerformance", "performance");
      render();
    });
  })();
</script>

</body>
</html>

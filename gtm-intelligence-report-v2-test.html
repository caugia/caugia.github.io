<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>The GTM Intelligence Report | Caugia Consulting</title>

  <link rel="icon" type="image/png" sizes="32x32" href="assets/logo-final.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/logo-final.png">
  <link rel="apple-touch-icon" href="assets/logo-final.png">
  <link rel="icon" type="image/png" sizes="192x192" href="assets/logo-final.png">

  <link rel="stylesheet" href="assets/caugia-v10.1.css?v=10.1"/>

  <style>
    /* --- LAYOUT & FIXES --- */
    html, body { height: 100%; overflow: hidden; display: flex; flex-direction: column; margin:0; }
    .gi-main { flex-grow: 1; overflow: hidden; padding-bottom: 0; height: calc(100% - 60px); }
    .gi-shell { height: 100%; display: grid; grid-template-columns: 320px 1fr 280px; gap: 0; }
    
    .gi-left-info {
        display: flex; flex-direction: column; height: 100%; 
        overflow: hidden; padding-bottom: 32px; 
    }

    /* Fixed Description Box */
    .gi-pillar-desc-box {
        margin-top: auto; height: 240px; min-height: 240px; max-height: 240px;
        overflow: hidden; flex-shrink: 0; background: #fff;
        border: 1px solid #e2e8f0; border-radius: 12px; padding: 24px;
        box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
    }

    .gi-utility-row { position: absolute; top: 20px; right: 20px; display: flex; gap: 8px; z-index: 10; }
    .gi-utility-btn {
      background: #ffffff; border: 1px solid #e2e8f0; border-radius: 6px;
      padding: 6px 12px; font-size: 0.75rem; font-weight: 600; color: #64748b;
      cursor: pointer; transition: all 0.2s ease; box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }
    .gi-utility-btn:hover { border-color: #0056b3; color: #0056b3; }

    .gi-pillar-nav li { color: #475569; cursor: pointer; transition: color 0.2s, background-color 0.2s; } 
    .gi-pillar-nav li:hover { color: #0056b3; background-color: #f1f5f9; }
    .gi-pillar-nav li.active { background-color: #0056b3 !important; color: #ffffff !important; font-weight: 700; }

    .gi-group-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-top: 16px; margin-bottom: 24px; }
    .gi-group-grid label { display: block; font-weight: 700; font-size: 0.85rem; margin-bottom: 8px; color: #1e293b; }
    .gi-input, .gi-textarea { width: 100%; padding: 12px; border: 1px solid #cbd5e1; border-radius: 8px; font-family: 'Inter', sans-serif; font-size: 0.95rem; background: #fff; }
    .gi-input:focus { border-color: #0056b3; box-shadow: 0 0 0 3px rgba(0,86,179,0.1); outline: none; }

    .gi-options-grid { display: flex; flex-direction: column; gap: 12px; margin-top: 16px; }
    .gi-option-card { display: flex; align-items: center; padding: 16px; border: 1px solid #e2e8f0; border-radius: 8px; cursor: pointer; background: #fff; }
    .gi-option-card:hover { border-color: #94a3b8; background: #f8fafc; }
    .gi-option-card input { margin-right: 12px; transform: scale(1.2); }

    .gi-question-card { position: relative; height: 100%; display: flex; flex-direction: column; padding: 40px; overflow-y: auto; }
    .gi-question-body { flex-grow: 1; padding-bottom: 80px; } 
    
    .gi-nav-row {
      position: sticky; bottom: 0; left: 0; right: 0;
      background: white; border-top: 1px solid #e2e8f0;
      padding: 20px 40px; margin: 0 -40px -40px -40px; 
      display: flex; gap: 12px; align-items: center;
    }

    #gi-test-submit-btn { background: #dc2626; color: white; border: none; margin-left: auto; }

    @media (max-width: 1000px) {
      body { overflow-y: auto; height: auto; }
      .gi-shell { display: flex; flex-direction: column; }
      .gi-left-info, .gi-right-pillars { display: none; }
      .gi-question-card { height: auto; overflow: visible; }
    }
  </style>
</head>

<body>

<header class="gi-header">
  <div class="gi-header-inner">
    <div class="gi-header-left">
      <img src="assets/logo-final.png" class="gi-logo" alt="Caugia logo" width="32" height="32">
      <span class="gi-header-brand">Caugia Consulting</span>
    </div>
    <div class="gi-header-right">
      <button id="darkToggle" class="gi-dark-toggle" aria-label="Toggle dark mode">
        <span class="dark-icon">üåô</span>
      </button>
    </div>
  </div>
</header>

<main class="gi-main">
  <div class="gi-shell">

    <aside class="gi-left-info">
      <div class="gi-info-title">Premium GTM Assessment</div>
      <h1 class="gi-info-h1">The GTM Intelligence Report</h1>
      <p class="gi-info-desc">
        A structured, 12-pillar diagnostic that evaluates your entire
        go-to-market system and reveals strengths, risks and hidden
        dependencies across the full revenue engine.
      </p>
      <div class="gi-info-meta">12 pillars ‚Ä¢ 265 questions ‚Ä¢ ~45 minutes</div>

      <div class="gi-progress-box">
        <div class="gi-progress-top">
          <span id="gi-progress-count">0 / 265</span>
          <span id="gi-progress-percent">0%</span>
        </div>
        <div class="gi-progress-track">
          <div id="gi-progress-bar" class="gi-progress-fill"></div>
        </div>
      </div>

      <button class="gi-btn gi-reset" id="gi-reset-btn">Reset</button>

      <div class="gi-pillar-desc-box" id="gi-left-pillar-desc-box">
        <h3 id="gi-pillar-name">Context</h3>
        <p id="gi-pillar-desc">
          Context provides the foundation for interpreting the rest of the assessment. By capturing essential details about your company, the system adjusts recommendations to your specific reality.
        </p>
      </div>
    </aside>

    <section class="gi-center">
      <div class="gi-question-card" id="gi-question-card">

        <div class="gi-utility-row">
          <button class="gi-utility-btn" id="gi-save-btn">Save Progress</button>
          <button class="gi-utility-btn" id="gi-jump-first">First Unanswered</button>
          <button class="gi-utility-btn" id="gi-jump-last">Last Answered</button>
        </div>

        <div class="gi-question-header">
          <div class="gi-question-kicker" id="gi-question-kicker">Context</div>
          <h2 class="gi-question-title" id="gi-question-title"></h2>
          <p class="gi-question-sub" id="gi-question-sub"></p>
        </div>

        <div class="gi-question-body" id="gi-question-body">
          </div>

        <div class="gi-nav-row">
          <button class="gi-btn" id="gi-prev-btn">Previous</button>
          <button class="gi-btn gi-primary" id="gi-next-btn">Next</button>
          
          <button class="gi-btn gi-primary" id="gi-submit-btn" style="display:none;">Submit Assessment</button>
          
          <button class="gi-btn" id="gi-clear-btn">Clear</button>

          <button class="gi-btn" id="gi-test-submit-btn">TEST SUBMIT</button>
        </div>

      </div>
    </section>

    <aside class="gi-right-pillars">
      <div class="gi-pillars-title">Pillars</div>
      <ul class="gi-pillar-nav" id="gi-left-pillar-list">
        <li data-p="0" class="active">0 ‚Äî Context</li>
        <li data-p="1">1 ‚Äî GTM Strategy & Leadership</li>
        <li data-p="2">2 ‚Äî Market Intelligence</li>
        <li data-p="3">3 ‚Äî Product Marketing</li>
        <li data-p="4">4 ‚Äî Demand Generation</li>
        <li data-p="5">5 ‚Äî Sales Execution</li>
        <li data-p="6">6 ‚Äî Customer Success & Expansion</li>
        <li data-p="7">7 ‚Äî Revenue Operations & Systems</li>
        <li data-p="8">8 ‚Äî Pricing & Packaging</li>
        <li data-p="9">9 ‚Äî Brand & Communications</li>
        <li data-p="10">10 ‚Äî Data & Insights</li>
        <li data-p="11">11 ‚Äî Enablement</li>
        <li data-p="12">12 ‚Äî Leadership & Alignment</li>
      </ul>
    </aside>

  </div>
</main>

<a href="/faq.html" class="gi-faq-button">FAQ</a>

<script src="assets/QUESTIONS.js?v=1"></script>

<script>
const PILLAR_META = {
  0:{name:"Context", desc:"Context provides the foundation for interpreting the rest of the assessment. By capturing essential details about your company, the system adjusts recommendations to your specific reality."},
  1:{name:"GTM Strategy & Leadership", desc:"GTM Strategy measures how clearly direction and priorities are defined. It evaluates whether your long-term vision is translated into actionable roadmaps that guide resource allocation."},
  2:{name:"Market Intelligence", desc:"Market Intelligence reflects how well you understand your market, customers and competitors. It assesses the depth of your ICP definition and your ability to detect shifting buyer needs to anticipate market moves."},
  3:{name:"Product Marketing", desc:"Product Marketing connects customer understanding with product value. It evaluates your ability to translate features into benefits and ensure Sales delivers a consistent message, shortening sales cycles."},
  4:{name:"Demand Generation", desc:"Demand Generation measures how predictably pipeline is generated. It looks beyond vanity metrics to assess the quality of capture and the efficiency of your acquisition cost over the long term."},
  5:{name:"Sales Execution", desc:"Sales Execution evaluates funnel consistency and deal quality. It looks at whether your process is followed rigorously or if revenue relies on individual heroics, ensuring predictable target attainment."},
  6:{name:"Customer Success & Expansion", desc:"Customer Success & Expansion measures onboarding, retention and expansion. It shifts the focus from reactive support to proactive value delivery, which is critical for compounding growth through Net Revenue Retention."},
  7:{name:"Revenue Operations & Systems", desc:"Revenue Operations evaluates process, tooling and data foundations. It assesses whether your tech stack removes friction or adds complexity, providing the necessary infrastructure for scale."},
  8:{name:"Pricing & Packaging", desc:"Pricing & Packaging evaluates clarity of value and monetisation. It checks if your model aligns with how customers actually receive value and if it supports frictionless expansion revenue."},
  9:{name:"Brand & Communications", desc:"Brand & Communications evaluates narrative clarity and consistency. It assesses whether your company is seen as a trusted thought leader, acting as gravity that pulls deals in and lowers acquisition costs."},
 10:{name:"Data & Insights", desc:"Data & Insights measures reliability and usability of information. It determines if leadership makes decisions based on real-time evidence or gut feeling, which is a prerequisite for accurate forecasting."},
 11:{name:"Enablement", desc:"Enablement evaluates training, materials and coaching quality. It focuses on reducing ramp time for new hires and ensuring that your strategy is actually executed consistently at the frontline."},
 12:{name:"Leadership & Alignment", desc:"Leadership & Alignment reflects collaboration and unified direction. It assesses whether silos are broken down and if the operating rhythm drives accountability towards shared revenue goals."}
};
</script>

<script src="assets/engine.js?v=8002"></script>

<script>
document.addEventListener("DOMContentLoaded", function() {
  
  // 1. Dark Mode
  const toggle = document.getElementById("darkToggle");
  if(toggle){
    toggle.addEventListener("click", () => {
        const isDark = document.body.classList.toggle("dark");
        const icon = toggle.querySelector(".dark-icon");
        if (icon) icon.textContent = isDark ? "‚òÄÔ∏è" : "üåô";
    });
  }

  // 2. Pillar Info Update
  const list = document.getElementById("gi-left-pillar-list");
  const titleBox = document.getElementById("gi-pillar-name");
  const descBox = document.getElementById("gi-pillar-desc");

  if(list && titleBox && descBox) {
    list.addEventListener("click", (e) => {
      const li = e.target.closest("li");
      if(!li) return;
      const pIndex = li.getAttribute("data-p");
      const info = PILLAR_META[pIndex];
      if(info) {
        titleBox.innerText = info.name;
        descBox.innerText = info.desc;
        descBox.style.opacity = 0;
        setTimeout(() => descBox.style.opacity = 1, 100);
      }
    });
  }

  // 3. ROBUSTE TEST SUBMIT (Nu met ECHTE VERZENDING NAAR MAKE)
  const testBtn = document.getElementById("gi-test-submit-btn");
  if(testBtn) {
    testBtn.addEventListener("click", function() {
        console.log("--- START TEST SUBMIT ---");
        
        // We trekken de data LIVE uit de velden die nu in beeld staan
        const container = document.getElementById("gi-question-card");
        const inputs = container.querySelectorAll("input, select, textarea");
        
        let collectedData = {};
        let hasData = false;

        inputs.forEach(el => {
            // Checkboxes / Radio
            if(el.type === 'radio' || el.type === 'checkbox') {
                if(el.checked) {
                    collectedData[el.name || el.id] = el.value;
                    hasData = true;
                }
            } else {
                // Text, Email, etc.
                if(el.value && el.value.trim() !== "") {
                    collectedData[el.id || el.name] = el.value;
                    hasData = true;
                }
            }
        });

        if(hasData) {
            console.log("‚úÖ LIVE DATA GEVONDEN:", collectedData);
            
            // --- HIER IS DE FIX: ECHT VERZENDEN NAAR MAKE ---
            const WEBHOOK_URL = "https://hook.eu1.make.com/8vg0fkeflod05er5zuvmtfgcgqk17hnj";
            
            // We wrappen de data in 'answers' zodat Make structuur herkent
            const payload = {
                test_submit: true,
                timestamp: new Date().toISOString(),
                answers: collectedData
            };

            testBtn.innerText = "Sending...";
            
            fetch(WEBHOOK_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload)
            })
            .then(response => {
                if(response.ok) {
                    alert("‚úÖ SUCCES: Data verstuurd naar Make!\n\nGa nu naar Make.com en check of het scenario is getriggerd.");
                } else {
                    alert("‚ùå FOUT: Webhook reageerde met error " + response.status);
                }
            })
            .catch(error => {
                console.error("Fetch error:", error);
                alert("‚ùå FOUT: Kon data niet versturen. Check console.");
            })
            .finally(() => {
                testBtn.innerText = "TEST SUBMIT";
            });

        } else {
            // Als er geen live data is, proberen we de cache (als fallback)
            const stored = localStorage.getItem("gi_progress");
            if(stored) {
                console.log("‚úÖ CACHED DATA GEVONDEN:", JSON.parse(stored));
                alert("Geen live data op scherm, maar data in cache gevonden. \n\nLET OP: Deze test knop stuurt nu ALLEEN wat je op dit scherm ziet. Vul de velden in en druk nogmaals op TEST SUBMIT.");
            } else {
                alert("‚ö†Ô∏è LEGE SUBMIT\n\nVul eerst een veld in op dit scherm voordat je op submit klikt.");
            }
        }
    });
  }

});
</script>

</body>
</html>
